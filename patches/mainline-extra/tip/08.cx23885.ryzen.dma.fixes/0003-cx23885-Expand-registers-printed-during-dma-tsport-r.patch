From 4ea1625ca95c138ff017f5835cec71cb2cb40ce0 Mon Sep 17 00:00:00 2001
From: Brad Love <hidden@email.co>
Date: Tue, 1 May 2018 13:57:31 -0500
Subject: [PATCH 3/5] cx23885: Expand registers printed during dma tsport reg
 dump

Include some additional useful registers in the spew.
---
 drivers/media/pci/cx23885/cx23885-core.c | 18 +++++++++++++++++-
 1 file changed, 17 insertions(+), 1 deletion(-)

diff --git a/drivers/media/pci/cx23885/cx23885-core.c b/drivers/media/pci/cx23885/cx23885-core.c
index ca2601e9f5a8..8793602252f7 100644
--- a/drivers/media/pci/cx23885/cx23885-core.c
+++ b/drivers/media/pci/cx23885/cx23885-core.c
@@ -1340,6 +1340,18 @@ static void cx23885_tsport_reg_dump(struct cx23885_tsport *port)
 		port->reg_ts_clk_en, cx_read(port->reg_ts_clk_en));
 	dprintk(1, "%s() ts_int_msk(0x%08X)     0x%08x\n", __func__,
 		port->reg_ts_int_msk, cx_read(port->reg_ts_int_msk));
+	dprintk(1, "%s() ts_int_status(0x%08X)  0x%08x\n", __func__,
+		port->reg_ts_int_stat, cx_read(port->reg_ts_int_stat));
+	dprintk(1, "%s() PCI_INT_STAT           0x%08X\n", __func__,
+		cx_read(PCI_INT_STAT));
+	dprintk(1, "%s() VID_B_INT_MSTAT        0x%08X\n", __func__,
+		cx_read(VID_B_INT_MSTAT));
+	dprintk(1, "%s() VID_B_INT_SSTAT        0x%08X\n", __func__,
+		cx_read(VID_B_INT_SSTAT));
+	dprintk(1, "%s() VID_C_INT_MSTAT        0x%08X\n", __func__,
+		cx_read(VID_C_INT_MSTAT));
+	dprintk(1, "%s() VID_C_INT_SSTAT        0x%08X\n", __func__,
+		cx_read(VID_C_INT_SSTAT));
 }
 
 int cx23885_start_dma(struct cx23885_tsport *port,
@@ -1446,8 +1458,12 @@ int cx23885_start_dma(struct cx23885_tsport *port,
 	if (cx23885_boards[dev->board].portb == CX23885_MPEG_ENCODER)
 		cx23885_av_clk(dev, 1);
 
-	if (debug > 4)
+	if (debug > 4) {
 		cx23885_tsport_reg_dump(port);
+		cx23885_reg_dump(port, DEV_CNTRL2, 0x100);
+		cx23885_reg_dump(port, VID_B_GPCNT, 0xe0);
+		cx23885_reg_dump(port, VID_C_GPCNT, 0xe0);
+	}
 
 	return 0;
 }
-- 
2.15.1

