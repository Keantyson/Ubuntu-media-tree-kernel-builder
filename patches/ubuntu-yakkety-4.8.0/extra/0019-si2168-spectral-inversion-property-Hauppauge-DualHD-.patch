From e688d9aaabe0c96793d4c27c5785442bd7fae7b3 Mon Sep 17 00:00:00 2001
From: Brad Love <hidden@email.co>
Date: Sat, 5 Aug 2017 14:11:23 -0500
Subject: [PATCH 19/20] si2168: spectral inversion property, Hauppauge DualHD
 DVB-T2 requires it

---
 drivers/media/dvb-frontends/si2168.h  | 3 +++
 drivers/media/usb/em28xx/em28xx-dvb.c | 1 +
 2 files changed, 4 insertions(+)

diff --git a/drivers/media/dvb-frontends/si2168.h b/drivers/media/dvb-frontends/si2168.h
index 3225d0c..0f71233 100644
--- a/drivers/media/dvb-frontends/si2168.h
+++ b/drivers/media/dvb-frontends/si2168.h
@@ -45,6 +45,9 @@ struct si2168_config {
 
 	/* TS clock gapped */
 	bool ts_clock_gapped;
+
+	/* Spectral Inversion */
+	bool inversion;
 };
 
 #endif
diff --git a/drivers/media/usb/em28xx/em28xx-dvb.c b/drivers/media/usb/em28xx/em28xx-dvb.c
index 776ac6e..4ca213c 100644
--- a/drivers/media/usb/em28xx/em28xx-dvb.c
+++ b/drivers/media/usb/em28xx/em28xx-dvb.c
@@ -1913,6 +1913,7 @@ static int em28xx_dvb_init(struct em28xx *dev)
 			si2168_config.i2c_adapter = &adapter;
 			si2168_config.fe = &dvb->fe[0];
 			si2168_config.ts_mode = SI2168_TS_SERIAL;
+			si2168_config.inversion = true;
 			memset(&info, 0, sizeof(struct i2c_board_info));
 			strlcpy(info.type, "si2168", I2C_NAME_SIZE);
 			if(dev->ts == PRIMARY_TS) info.addr = 0x64;
-- 
2.9.3

